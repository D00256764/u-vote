<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64; rv:147.0) Gecko/20100101 Firefox/147.0" version="29.5.0">
  <diagram name="Page-1" id="5GXb6H1o00a5NEBUe4hI">
    <mxGraphModel dx="1615" dy="1095" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;              verticalAlign=middle;fontSize=22;fontStyle=1;" value="U-Voting System -- C4 Context Diagram" vertex="1">
          <mxGeometry height="50" width="1000" x="400" y="20" as="geometry" />
        </mxCell>
        <mxCell id="boundary" parent="1" style="rounded=0;whiteSpace=wrap;html=1;              fillColor=none;strokeColor=#444444;strokeWidth=2;              dashed=1;dashPattern=8 5;              fontSize=15;fontStyle=1;fontColor=#444444;              verticalAlign=bottom;align=right;spacingRight=10;spacingBottom=8;" value="" vertex="1">
          <mxGeometry height="770" width="1080" x="310" y="130" as="geometry" />
        </mxCell>
        <mxCell id="admin" parent="1" style="rounded=1;arcSize=8;whiteSpace=wrap;html=1;              fillColor=#08427B;strokeColor=#073B6F;fontColor=#ffffff;              fontSize=12;verticalAlign=middle;fillColor=light-dark(#08427b, #cdcdff);" value="&lt;b&gt;Admin&lt;/b&gt;&lt;br/&gt;       &lt;font color=&#39;#ccddff&#39;&gt;&lt;i&gt;[Person]&lt;/i&gt;&lt;/font&gt;&lt;br/&gt;&lt;br/&gt;       Creates and manages elections.&lt;br/&gt;       Adds candidates, uploads voter&lt;br/&gt;       CSVs, activates / closes&lt;br/&gt;elections, and sends links." vertex="1">
          <mxGeometry height="200" width="190" x="60" y="390" as="geometry" />
        </mxCell>
        <mxCell id="voter" parent="1" style="rounded=1;arcSize=8;whiteSpace=wrap;html=1;              fillColor=#08427B;strokeColor=#073B6F;fontColor=#ffffff;              fontSize=12;verticalAlign=middle;fillColor=light-dark(#08427b, #ededed);" value="&lt;b&gt;Voter&lt;/b&gt;&lt;br/&gt;       &lt;font color=&#39;#ccddff&#39;&gt;&lt;i&gt;[Person]&lt;/i&gt;&lt;/font&gt;&lt;br/&gt;&lt;br/&gt;       Receives email link, validates&lt;br/&gt;       token, views candidates,&lt;br/&gt;       casts vote, and views&lt;br/&gt;results." vertex="1">
          <mxGeometry height="200" width="190" x="1450" y="340" as="geometry" />
        </mxCell>
        <mxCell id="frontend" parent="1" style="rounded=0;whiteSpace=wrap;html=1;              fillColor=#1168BD;strokeColor=#0E5CA6;fontColor=#ffffff;              fontSize=12;verticalAlign=middle;fillColor=light-dark(#1168bd, #ededed);" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Frontend&lt;/b&gt;&lt;br&gt;&lt;/font&gt;       &lt;font color=&quot;#aaccff&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;i&gt;[Software System — Web SPA]&lt;/i&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;br&gt;       Browser-rendered single-page app used by both Admin and Voter.&lt;br&gt;       Routes all interactions to the appropriate backend API service.&lt;/font&gt;" vertex="1">
          <mxGeometry height="130" width="460" x="625" y="178" as="geometry" />
        </mxCell>
        <mxCell id="election-svc" parent="1" style="rounded=0;whiteSpace=wrap;html=1;              fillColor=#1168BD;strokeColor=#0E5CA6;fontColor=#ffffff;              fontSize=12;verticalAlign=middle;fillColor=light-dark(#1168bd, #ededed);" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Election Service&lt;/b&gt;&lt;br&gt;&lt;/font&gt;       &lt;font color=&quot;#aaccff&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;i&gt;[Software System — API]&lt;/i&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;br&gt;       Manages election lifecycle:&lt;br&gt;       create (draft), activate, close.&lt;br&gt;&lt;/font&gt;       &lt;font style=&quot;font-size: 14px;&quot;&gt;POST /api/elections&lt;br&gt;POST /api/elections/{id}/activate|close&lt;/font&gt;" vertex="1">
          <mxGeometry height="160" width="245" x="345" y="470" as="geometry" />
        </mxCell>
        <mxCell id="admin-svc" parent="1" style="rounded=0;whiteSpace=wrap;html=1;              fillColor=#1168BD;strokeColor=#0E5CA6;fontColor=#ffffff;              fontSize=12;verticalAlign=middle;fillColor=light-dark(#1168bd, #ededed);" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Admin Service&lt;/b&gt;&lt;br&gt;&lt;/font&gt;       &lt;font color=&quot;#aaccff&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;i&gt;[Software System — API]&lt;/i&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;br&gt;       Handles candidates, bulk voter&lt;br&gt;       CSV upload, generates tokens,&lt;br&gt;and dispatches invitation emails.&lt;br&gt;&lt;/font&gt;       &lt;font style=&quot;font-size: 14px;&quot;&gt;POST /api/admin/candidates|voters/bulk&lt;/font&gt;" vertex="1">
          <mxGeometry height="160" width="245" x="670" y="532" as="geometry" />
        </mxCell>
        <mxCell id="voting-svc" parent="1" style="rounded=0;whiteSpace=wrap;html=1;              fillColor=#1168BD;strokeColor=#0E5CA6;fontColor=#ffffff;              fontSize=12;verticalAlign=middle;fillColor=light-dark(#1168bd, #ededed);" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Voting Service&lt;/b&gt;&lt;br&gt;&lt;/font&gt;       &lt;font color=&quot;#aaccff&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;i&gt;[Software System — API]&lt;/i&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;br&gt;       Validates tokens, returns ballot,&lt;br&gt;       casts and hashes votes, marks&lt;br&gt;tokens used, writes audit log.&lt;br&gt;&lt;/font&gt;       &lt;font style=&quot;font-size: 14px;&quot;&gt;GET /api/voting/validate-token|ballot&lt;br&gt;POST /api/voting/cast-vote&lt;/font&gt;" vertex="1">
          <mxGeometry height="160" width="245" x="996" y="420" as="geometry" />
        </mxCell>
        <mxCell id="results-svc" parent="1" style="rounded=0;whiteSpace=wrap;html=1;              fillColor=#1168BD;strokeColor=#0E5CA6;fontColor=#ffffff;              fontSize=12;verticalAlign=middle;fillColor=light-dark(#1168bd, #ededed);" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;b&gt;Results Service&lt;/b&gt;&lt;br&gt;&lt;/font&gt;       &lt;font color=&quot;#aaccff&quot; style=&quot;font-size: 15px;&quot;&gt;&lt;i&gt;[Software System — API]&lt;/i&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;br&gt;&lt;br&gt;       Returns vote tallies and computed&lt;br&gt;       winner for a closed election.&lt;br&gt;&lt;/font&gt;       &lt;font style=&quot;font-size: 15px;&quot;&gt;GET /api/results/{id}&lt;/font&gt;" vertex="1">
          <mxGeometry height="150" width="245" x="490" y="710" as="geometry" />
        </mxCell>
        <mxCell id="audit-svc" parent="1" style="rounded=0;whiteSpace=wrap;html=1;              fillColor=#1168BD;strokeColor=#0E5CA6;fontColor=#ffffff;              fontSize=12;verticalAlign=middle;fillColor=light-dark(#1168bd, #ededed);" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Audit Service&lt;/b&gt;&lt;br&gt;&lt;/font&gt;       &lt;font color=&quot;#aaccff&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;i&gt;[Software System — API]&lt;/i&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;br&gt;       Append-only immutable event log.&lt;br&gt;       Records every vote-cast event&lt;br&gt;for traceability and compliance.&lt;br&gt;&lt;/font&gt;       &lt;font style=&quot;font-size: 14px;&quot;&gt;POST /api/audit/log&lt;/font&gt;" vertex="1">
          <mxGeometry height="150" width="245" x="850" y="710" as="geometry" />
        </mxCell>
        <mxCell id="email-svc" parent="1" style="rounded=0;whiteSpace=wrap;html=1;              fillColor=#666666;strokeColor=#444444;fontColor=#ffffff;              fontSize=12;verticalAlign=middle;fillColor=light-dark(#444444, #ededed);" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Email Service&lt;/b&gt;&lt;br&gt;&lt;/font&gt;       &lt;font color=&quot;#eeeeee&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;i&gt;[External Software System]&lt;/i&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;br&gt;       Delivers voting invitation emails&lt;br&gt;       (unique token URLs) and results&lt;br&gt;notification emails to voters.&lt;br&gt;&lt;/font&gt;       &lt;font style=&quot;font-size: 14px;&quot;&gt;POST /api/email/send-*&lt;/font&gt;" vertex="1">
          <mxGeometry height="160" width="235" x="1419" y="640" as="geometry" />
        </mxCell>
        <mxCell id="r1" edge="1" parent="1" source="admin" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#444444;fontColor=#333333;fontSize=10;              exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;              endArrow=block;endFill=1;startArrow=none;" target="frontend" value="Uses browser UI to manage elections,&lt;br/&gt;upload CSVs, and send links&lt;br/&gt;&lt;i&gt;[Steps 1-5, 9-10]&lt;/i&gt;">
          <mxGeometry relative="1" x="-0.2707" y="30" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="155" y="350" />
              <mxPoint x="430" y="350" />
              <mxPoint x="430" y="243" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r2" edge="1" parent="1" source="voter" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#444444;fontColor=#333333;fontSize=10;              exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;              endArrow=block;endFill=1;startArrow=none;" target="frontend" value="Clicks link, views ballot, casts vote,&lt;br/&gt;views results&lt;br/&gt;&lt;i&gt;[Steps 6-8, 11]&lt;/i&gt;">
          <mxGeometry relative="1" x="0.662" y="57" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r3" edge="1" parent="1" source="frontend" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#1168BD;fontColor=#1168BD;fontSize=10;              exitX=0.2;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;              endArrow=block;endFill=1;startArrow=none;" target="election-svc" value="POST /api/elections&lt;br/&gt;POST .../activate&lt;br/&gt;POST .../close&lt;br/&gt;&lt;i&gt;[Steps 1, 4, 9]&lt;/i&gt;">
          <mxGeometry relative="1" x="-0.306" y="37" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r4" edge="1" parent="1" source="frontend" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#1168BD;fontColor=#1168BD;fontSize=10;              exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;              endArrow=block;endFill=1;startArrow=none;" target="admin-svc" value="POST /api/admin/candidates&lt;br/&gt;POST /api/admin/voters/bulk&lt;br/&gt;POST /api/admin/.../send-*-links&lt;br/&gt;&lt;i&gt;[Steps 2, 3, 5, 10]&lt;/i&gt;">
          <mxGeometry relative="1" x="0.4276" y="-73" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r5" edge="1" parent="1" source="frontend" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#1168BD;fontColor=#1168BD;fontSize=10;              exitX=0.8;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;              endArrow=block;endFill=1;startArrow=none;" target="voting-svc" value="GET /api/voting/validate-token&lt;br/&gt;GET /api/voting/ballot&lt;br/&gt;POST /api/voting/cast-vote&lt;br/&gt;&lt;i&gt;[Steps 6, 7, 8]&lt;/i&gt;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r6" edge="1" parent="1" source="frontend" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#1168BD;fontColor=#1168BD;fontSize=10;              exitX=0.3;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;              endArrow=block;endFill=1;startArrow=none;" target="results-svc" value="GET /api/results/{id}&lt;br/&gt;returns tallies and winner&lt;br/&gt;&lt;i&gt;[Step 11]&lt;/i&gt;">
          <mxGeometry relative="1" x="-0.1048" y="-10" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="810" y="360" />
              <mxPoint x="612" y="360" />
              <mxPoint x="612" y="628" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r7" edge="1" parent="1" source="admin-svc" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#666666;fontColor=#444444;fontSize=10;              exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.3;entryDx=0;entryDy=0;              endArrow=block;endFill=1;startArrow=none;" target="email-svc" value="POST /api/email/send-voting-invitation&lt;br/&gt;POST /api/email/send-results-links&lt;br/&gt;{voter_email, voting_url, election_title}&lt;br/&gt;&lt;i&gt;[Steps 5c, 10]&lt;/i&gt;">
          <mxGeometry relative="1" x="0.5897" y="-32" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r8" edge="1" parent="1" source="voting-svc" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#1168BD;fontColor=#1168BD;fontSize=10;              exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;              endArrow=block;endFill=1;startArrow=none;" target="audit-svc" value="Logs vote-cast events&lt;br/&gt;(append-only)&lt;br/&gt;&lt;i&gt;[Step 8e]&lt;/i&gt;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9" edge="1" parent="1" source="email-svc" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#666666;fontColor=#444444;fontSize=10;              dashed=1;dashPattern=8 4;              exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;              endArrow=block;endFill=1;startArrow=none;" target="voter" value="Delivers voting invitation&lt;br/&gt;and results emails (async)&lt;br/&gt;&lt;i&gt;[Steps 5c, 10]&lt;/i&gt;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="legend-bg" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#aaaaaa;" value="" vertex="1">
          <mxGeometry height="210" width="220" x="60" y="650" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=13;" value="&lt;b&gt;Legend&lt;/b&gt;" vertex="1">
          <mxGeometry height="22" width="190" x="75" y="660" as="geometry" />
        </mxCell>
        <mxCell id="leg-p" parent="1" style="rounded=1;arcSize=15;whiteSpace=wrap;html=1;fillColor=#08427B;strokeColor=#073B6F;" value="" vertex="1">
          <mxGeometry height="22" width="32" x="75" y="692" as="geometry" />
        </mxCell>
        <mxCell id="leg-p-lbl" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=11;" value="Person" vertex="1">
          <mxGeometry height="22" width="150" x="117" y="692" as="geometry" />
        </mxCell>
        <mxCell id="leg-i" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1168BD;strokeColor=#0E5CA6;" value="" vertex="1">
          <mxGeometry height="22" width="32" x="75" y="724" as="geometry" />
        </mxCell>
        <mxCell id="leg-i-lbl" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=11;" value="Internal System" vertex="1">
          <mxGeometry height="22" width="150" x="117" y="724" as="geometry" />
        </mxCell>
        <mxCell id="leg-e" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#666666;strokeColor=#444444;" value="" vertex="1">
          <mxGeometry height="22" width="32" x="75" y="756" as="geometry" />
        </mxCell>
        <mxCell id="leg-e-lbl" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=11;" value="External System" vertex="1">
          <mxGeometry height="22" width="150" x="117" y="756" as="geometry" />
        </mxCell>
        <mxCell id="leg-sync" edge="1" parent="1" style="edgeStyle=none;html=1;strokeColor=#1168BD;endArrow=block;endFill=1;" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="75" y="799" as="sourcePoint" />
            <mxPoint x="107" y="799" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-sync-lbl" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=11;" value="Synchronous call" vertex="1">
          <mxGeometry height="22" width="150" x="117" y="789" as="geometry" />
        </mxCell>
        <mxCell id="leg-async" edge="1" parent="1" style="edgeStyle=none;html=1;strokeColor=#666666;dashed=1;dashPattern=8 4;endArrow=block;endFill=1;" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="75" y="831" as="sourcePoint" />
            <mxPoint x="107" y="831" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-async-lbl" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=11;" value="Async / email delivery" vertex="1">
          <mxGeometry height="22" width="150" x="117" y="821" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
